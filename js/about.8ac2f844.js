"use strict";(self["webpackChunkradarpetcli"]=self["webpackChunkradarpetcli"]||[]).push([[443],{5773:function(a,e,t){t.d(e,{Z:function(){return y}});var o=t(3396),s=t(7139);const r=a=>((0,o.dD)("data-v-7c815c06"),a=a(),(0,o.Cn)(),a),i={id:"cardIdenti"},n=r((()=>(0,o._)("div",{id:"identi"},null,-1))),d={id:"identiInfo"},c={class:"dato"},l=r((()=>(0,o._)("label",{for:"NombreUsuario"},"Nombre: ",-1))),p={class:"dato"},u=r((()=>(0,o._)("label",{for:"apellido"},"Apellido: ",-1))),m={class:"dato"},h=r((()=>(0,o._)("label",{for:"tel"},"Teléfono: ",-1))),g={class:"dato"},f=r((()=>(0,o._)("label",{for:"mail"},"Email: ",-1)));function _(a,e,t,r,_,b){return(0,o.wg)(),(0,o.iD)("div",i,[n,(0,o._)("div",d,[(0,o._)("div",{id:"avatar",style:(0,s.j5)({backgroundImage:"url("+t.imagen+")"})},null,4),(0,o._)("div",c,[l,(0,o._)("p",null,"  "+(0,s.zw)(t.Usuario.nombre),1)]),(0,o._)("div",p,[u,(0,o._)("p",null," "+(0,s.zw)(t.Usuario.apellido),1)]),(0,o._)("div",m,[h,(0,o._)("p",null," "+(0,s.zw)(t.Usuario.telefono),1)]),(0,o._)("div",g,[f,(0,o._)("p",null," "+(0,s.zw)(t.Usuario.email),1)])])])}var b={name:"CardIdentificacion",props:{imagen:String,Usuario:Object}},v=t(89);const w=(0,v.Z)(b,[["render",_],["__scopeId","data-v-7c815c06"]]);var y=w},3432:function(a,e,t){t.d(e,{Z:function(){return m}});var o=t(3396),s=t(7139);const r=["src"],i={key:1,class:"loader"},n={id:"datos"},d={key:0};function c(a,e,t,c,l,p){return(0,o.wg)(),(0,o.iD)("div",{id:"cardMascota",onClick:e[0]||(e[0]=(...a)=>p.irInfoMascota&&p.irInfoMascota(...a))},[l.imagen?((0,o.wg)(),(0,o.iD)("img",{key:0,id:"foto",src:l.imagen,alt:""},null,8,r)):(0,o.kq)("",!0),l.imagen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",i)),(0,o._)("div",n,[l.imagen?((0,o.wg)(),(0,o.iD)("p",d,(0,s.zw)(t.mascota.Nombre),1)):(0,o.kq)("",!0)])])}var l={name:"CardMascota",props:{mascota:Object},data(){return{imagen:""}},mounted(){fetch(`https://apirestmascotas.herokuapp.com/mascota/fotoMascota/${this.mascota._id}`,{}).then((a=>a.blob())).then((a=>{const e=URL.createObjectURL(a);this.imagen=e}))},methods:{irInfoMascota(){this.$router.push("/infoMascota/"+this.mascota._id)}}},p=t(89);const u=(0,p.Z)(l,[["render",c],["__scopeId","data-v-cea069b4"]]);var m=u},582:function(a,e,t){t.d(e,{Z:function(){return b}});var o=t(3396),s=t(7139);const r={id:"cardMascota"},i=["src"],n={key:0},d={key:1},c={key:2},l={key:3},p={key:4},u={key:5},m={key:6};function h(a,e,t,h,g,f){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("img",{id:"foto",src:g.imagen,alt:""},null,8,i),(0,o._)("p",null," Nombre: "+(0,s.zw)(t.mascota.Nombre),1),t.mascota.Raza?((0,o.wg)(),(0,o.iD)("p",n,"Raza: "+(0,s.zw)(t.mascota.Raza),1)):(0,o.kq)("",!0),t.mascota.Tipo?((0,o.wg)(),(0,o.iD)("p",d,"Raza: "+(0,s.zw)(t.mascota.Tipo),1)):(0,o.kq)("",!0),t.mascota.Peso?((0,o.wg)(),(0,o.iD)("p",c,"Peso: "+(0,s.zw)(t.mascota.Peso),1)):(0,o.kq)("",!0),t.mascota.Edad?((0,o.wg)(),(0,o.iD)("p",l,"Edad: "+(0,s.zw)(t.mascota.Edad),1)):(0,o.kq)("",!0),t.mascota.Descripcion?((0,o.wg)(),(0,o.iD)("p",p,"Descripción: "+(0,s.zw)(t.mascota.Descripcion),1)):(0,o.kq)("",!0),t.mascota.Ubicacion?((0,o.wg)(),(0,o.iD)("p",u,"Ubicación: "+(0,s.zw)(t.mascota.Ubicacion),1)):(0,o.kq)("",!0),t.contacto?((0,o.wg)(),(0,o.iD)("p",m,"Contacto: "+(0,s.zw)(t.contacto),1)):(0,o.kq)("",!0)])}var g={name:"CardMascotaCompleta",props:{mascota:Object,contacto:String},data(){return{imagen:""}},mounted(){fetch(`https://apirestmascotas.herokuapp.com/mascota/fotoMascota/${this.mascota._id}`,{}).then((a=>a.blob())).then((a=>{const e=URL.createObjectURL(a);this.imagen=e}))}},f=t(89);const _=(0,f.Z)(g,[["render",h],["__scopeId","data-v-60f0c94e"]]);var b=_},8953:function(a,e,t){t.r(e),t.d(e,{default:function(){return M}});var o=t(3396),s=t(9242),r=t(7139),i=t(3715),n=t(6592);const d=a=>((0,o.dD)("data-v-13447cb1"),a=a(),(0,o.Cn)(),a),c={id:"loginmode"},l=d((()=>(0,o._)("h2",null,"Iniciar Sesión",-1))),p=d((()=>(0,o._)("label",{for:"email"},"Email",-1))),u={for:"password"},m=(0,o.Uk)("Contraseña "),h=["type"],g={id:"error"},f=d((()=>(0,o._)("button",{id:"enviar"},"Iniciar Sesión",-1))),_={id:"cambiarRegister"},b=d((()=>(0,o._)("p",null,"¿No tienes cuenta?",-1))),v=d((()=>(0,o._)("button",null,"Registrarte",-1)));function w(a,e,t,d,w,y){const U=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("form",{onSubmit:e[4]||(e[4]=(0,s.iM)(((...a)=>y.iniciarSesion&&y.iniciarSesion(...a)),["prevent"]))},[l,p,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>w.user.email=a),name:"email"},null,512),[[s.nr,w.user.email]]),(0,o._)("label",u,[m,"password"!=w.passwordField?((0,o.wg)(),(0,o.iD)("img",{key:0,id:"mostrar",src:i,onClick:e[1]||(e[1]=(...a)=>y.mostrarPass&&y.mostrarPass(...a)),alt:"mostrarPass"})):((0,o.wg)(),(0,o.iD)("img",{key:1,id:"mostrar",src:n,onClick:e[2]||(e[2]=(...a)=>y.mostrarPass&&y.mostrarPass(...a)),alt:"mostrarPass"}))]),(0,o.wy)((0,o._)("input",{type:w.passwordField,"onUpdate:modelValue":e[3]||(e[3]=a=>w.user.password=a),name:"password"},null,8,h),[[s.YZ,w.user.password]]),(0,o._)("p",g,(0,r.zw)(w.error),1),f,(0,o._)("div",_,[b,(0,o.Wm)(U,{to:"/registrarse"},{default:(0,o.w5)((()=>[v])),_:1})])],32)])}var y={data(){return{passwordField:"password",error:"",imagen:"",user:{email:"",password:""}}},mounted(){document.title="Iniciar Sesión"},methods:{mostrarPass(){this.passwordField="password"===this.passwordField?"text":"password"},onFileSelected(a){this.imagen=URL.createObjectURL(a.target.files[0])},iniciarSesion(){fetch("https://apirestmascotas.herokuapp.com/usuario/iniciarsesion",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.user)}).then((a=>a.json())).then((a=>{a.token?(this.$store.dispatch("setTokenSesion",a.token),this.$store.dispatch("setAvatarImage"),this.$router.push("/")):this.error=a.msg}))}}},U=t(89);const k=(0,U.Z)(y,[["render",w],["__scopeId","data-v-13447cb1"]]);var M=k},5479:function(a,e,t){t.r(e),t.d(e,{default:function(){return u}});var o=t(3396);const s=a=>((0,o.dD)("data-v-3fde0337"),a=a(),(0,o.Cn)(),a),r=s((()=>(0,o._)("h2",null,"Encontradas",-1))),i={id:"encontradas"};function n(a,e,t,s,n,d){const c=(0,o.up)("CardMascota");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r,(0,o._)("section",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.mascotasEncontradas,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o.Wm)(c,{mascota:a},null,8,["mascota"])])))),128))])],64)}var d=t(3432),c={name:"MascotasView",components:{CardMascota:d.Z},data(){return{mascotasEncontradas:[]}},mounted(){fetch("https://apirestmascotas.herokuapp.com/mascota/mascotas",{method:"GET",headers:{Key:this.$store.getters.getTokenSesion,Accept:"application/json","Content-Type":"application/json"}}).then((a=>a.json())).then((a=>{this.mascotasEncontradas=a.filter((a=>"Encontrada"===a.TipoEstado))}))}},l=t(89);const p=(0,l.Z)(c,[["render",n],["__scopeId","data-v-3fde0337"]]);var u=p},5586:function(a,e,t){t.r(e),t.d(e,{default:function(){return u}});var o=t(3396);const s=a=>((0,o.dD)("data-v-155694ee"),a=a(),(0,o.Cn)(),a),r=s((()=>(0,o._)("h2",null,"Perdidas",-1))),i={id:"perdidas"};function n(a,e,t,s,n,d){const c=(0,o.up)("CardMascota");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r,(0,o._)("section",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.mascotasPerdidas,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o.Wm)(c,{mascota:a},null,8,["mascota"])])))),128))])],64)}var d=t(3432),c={name:"MascotasView",components:{CardMascota:d.Z},data(){return{mascotasPerdidas:[]}},mounted(){fetch("https://apirestmascotas.herokuapp.com/mascota/mascotas",{method:"GET",headers:{Key:this.$store.getters.getTokenSesion,Accept:"application/json","Content-Type":"application/json"}}).then((a=>a.json())).then((a=>{this.mascotasPerdidas=a.filter((a=>"Perdida"===a.TipoEstado))}))}},l=t(89);const p=(0,l.Z)(c,[["render",n],["__scopeId","data-v-155694ee"]]);var u=p},5875:function(a,e,t){t.r(e),t.d(e,{default:function(){return f}});var o=t(3396);const s=a=>((0,o.dD)("data-v-24bc85c7"),a=a(),(0,o.Cn)(),a),r=s((()=>(0,o._)("h2",null,"Mascotas perdidas",-1))),i={id:"perdidas"},n=s((()=>(0,o._)("button",null,"Ver todas",-1))),d=s((()=>(0,o._)("h2",null," Mascotas encontradas",-1))),c={id:"encontradas"},l=s((()=>(0,o._)("button",null,"Ver todas",-1)));function p(a,e,t,s,p,u){const m=(0,o.up)("CardMascota"),h=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r,(0,o._)("section",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.randomPerdidas,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o.Wm)(m,{mascota:a},null,8,["mascota"])])))),128))]),(0,o.Wm)(h,{to:"/mascotas/perdidas"},{default:(0,o.w5)((()=>[n])),_:1}),d,(0,o._)("section",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.randomEncontradas,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o.Wm)(m,{mascota:a},null,8,["mascota"])])))),128))]),(0,o.Wm)(h,{to:"/mascotas/encontradas"},{default:(0,o.w5)((()=>[l])),_:1})],64)}t(1703);var u=t(3432),m={name:"MascotasView",components:{CardMascota:u.Z},data(){return{randomEncontradas:[],randomPerdidas:[],mascotasEncontradas:[],mascotasPerdidas:[]}},mounted(){fetch("https://apirestmascotas.herokuapp.com/mascota/mascotas",{method:"GET",headers:{Key:this.$store.getters.getTokenSesion,Accept:"application/json","Content-Type":"application/json"}}).then((a=>{if(200!==a.status)throw new Error("Error al obtener mascotas");return a.json()})).then((a=>{this.mascotasPerdidas=a.filter((a=>"Perdida"===a.TipoEstado)),this.mascotasEncontradas=a.filter((a=>"Encontrada"===a.TipoEstado))})).then((()=>{let a;a=screen.width>800?8:4,this.randomEncontradas=this.mascotasEncontradas.sort((()=>Math.random()-.5)).slice(0,a),this.randomPerdidas=this.mascotasPerdidas.sort((()=>Math.random()-.5)).slice(0,a)})).catch((a=>{console.log(a)}))}},h=t(89);const g=(0,h.Z)(m,[["render",p],["__scopeId","data-v-24bc85c7"]]);var f=g},7627:function(a,e,t){t.r(e),t.d(e,{default:function(){return I}});var o=t(3396),s=t(7139),r=t(9242);const i=a=>((0,o.dD)("data-v-2daaeeb6"),a=a(),(0,o.Cn)(),a),n={key:0,id:"tipoestado"},d=i((()=>(0,o._)("h2",null,"He encontrado una mascota",-1))),c=i((()=>(0,o._)("p",null,"Publica una mascota que encontraste y no sabes cual es su dueño. ",-1))),l=[d,c],p=i((()=>(0,o._)("h2",null,"He perdido una mascota",-1))),u=i((()=>(0,o._)("p",null,"Publica una mascota que perdiste para que la gente pueda contactar contigo. ",-1))),m=[p,u],h={key:1},g={class:"contenedorForm"},f=i((()=>(0,o._)("label",{for:"nombre"},"Nombre",-1))),_=i((()=>(0,o._)("label",{for:"tipo"},"Tipo",-1))),b=i((()=>(0,o._)("option",{value:"Perro"},"Perro",-1))),v=i((()=>(0,o._)("option",{value:"Gato"},"Gato",-1))),w=i((()=>(0,o._)("option",{value:"Pajaro"},"Pajaro",-1))),y=i((()=>(0,o._)("option",{value:"Otro"},"Otro",-1))),U=[b,v,w,y],k=i((()=>(0,o._)("label",{for:"Raza"},"Raza",-1))),M=i((()=>(0,o._)("label",{for:"Edad"},"Edad",-1))),C=i((()=>(0,o._)("label",{for:"Peso"},"Peso",-1))),D=i((()=>(0,o._)("label",{for:"contacto"},"Contacto",-1))),P=i((()=>(0,o._)("option",{value:"tel"},"Teléfono",-1))),E=i((()=>(0,o._)("option",{value:"mail"},"E-mail",-1))),T=[P,E],S=i((()=>(0,o._)("label",{for:"ubicacion"},"Ubicación",-1))),j=i((()=>(0,o._)("label",{for:"descripcion"},"Descripción",-1))),z=["src"],$=i((()=>(0,o._)("button",{id:"enviar"},"Enviar",-1)));function F(a,e,t,i,d,c){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h2",null," Publicar una mascota "+(0,s.zw)(d.tipoestado),1),d.tipoestado?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",{class:"tipoestado",onClick:e[0]||(e[0]=a=>d.tipoestado="Encontrada")},l),(0,o._)("div",{class:"tipoestado",onClick:e[1]||(e[1]=a=>d.tipoestado="Perdida")},m)])),(0,o._)("p",null,(0,s.zw)(d.error),1),d.tipoestado?((0,o.wg)(),(0,o.iD)("div",h,["Encontrada"===d.tipoestado?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"start",onClick:e[2]||(e[2]=a=>d.tipoestado="Perdida")},"Cambiar a Perdida")):(0,o.kq)("",!0),"Perdida"===d.tipoestado?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:e[3]||(e[3]=a=>d.tipoestado="Encontrada")},"Cambiar a Encontrada")):(0,o.kq)("",!0),(0,o._)("div",g,[(0,o._)("form",{onSubmit:e[13]||(e[13]=(0,r.iM)(((...a)=>c.enviarDatos&&c.enviarDatos(...a)),["prevent"]))},[f,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=a=>d.Nombre=a),name:"Nombre"},null,512),[[r.nr,d.Nombre]]),_,(0,o.wy)((0,o._)("select",{name:"tipo",id:"tipo","onUpdate:modelValue":e[5]||(e[5]=a=>d.Tipo=a)},U,512),[[r.bM,d.Tipo]]),k,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>d.Raza=a),id:"raza",placeholder:"Raza"},null,512),[[r.nr,d.Raza]]),M,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=a=>d.edad=a),id:"edad",placeholder:"Edad"},null,512),[[r.nr,d.edad]]),C,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=a=>d.peso=a),id:"peso",placeholder:"Peso"},null,512),[[r.nr,d.peso]]),D,(0,o.wy)((0,o._)("select",{name:"contacto",id:"contacto","onUpdate:modelValue":e[9]||(e[9]=a=>d.tipocontacto=a)},T,512),[[r.bM,d.tipocontacto]]),S,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>d.Ubicacion=a),name:"ubicacion"},null,512),[[r.nr,d.Ubicacion]]),j,(0,o.wy)((0,o._)("textarea",{name:"descripcion",id:"descripcion",cols:"30",rows:"10","onUpdate:modelValue":e[11]||(e[11]=a=>d.Descripcion=a)},null,512),[[r.nr,d.Descripcion]]),(0,o._)("img",{id:"imagenavatar",src:d.imagen,alt:""},null,8,z),(0,o._)("input",{onChange:e[12]||(e[12]=(...a)=>c.onFileSelected&&c.onFileSelected(...a)),type:"file",accept:"image/png,image/jpeg",id:"imagenup",ref:"foto",name:"foto"},null,544),$],32)])])):(0,o.kq)("",!0)],64)}var R={data(){return{error:"",tipoestado:"",contacto:"",Nombre:"",imagen:"",Ubicacion:"",Descripcion:"",Tipo:"",Raza:"",edad:"",peso:"",tipocontacto:""}},mounted(){document.title="Nueva Mascota",this.$store.getters.getTokenSesion||this.$router.push("/iniciarsesion")},methods:{onFileSelected(a){this.imagen=URL.createObjectURL(a.target.files[0])},enviarDatos(){"tel"===this.tipocontacto?this.contacto=this.$store.getters.getUsuario.telefono:this.contacto=this.$store.getters.getUsuario.email;const a={TipoEstado:this.tipoestado,Nombre:this.Nombre,Ubicacion:this.Ubicacion,Tipo:this.Tipo,Raza:this.Raza,Edad:this.edad,Peso:this.peso,Tipocontacto:this.tipocontacto,Contacto:this.contacto,Descripcion:this.Descripcion},e=new FormData;e.append("datos",JSON.stringify(a)),e.append("foto",this.$refs.foto.files[0]),fetch("https://apirestmascotas.herokuapp.com/mascota/nueva",{method:"POST",headers:{key:this.$store.getters.getTokenSesion},body:e}).then((a=>{if(200!==a.status)return a.json();this.$router.push("/")})).then((a=>this.error=a.msg))}}},N=t(89);const V=(0,N.Z)(R,[["render",F],["__scopeId","data-v-2daaeeb6"]]);var I=V},9457:function(a,e,t){t.r(e),t.d(e,{default:function(){return B}});var o=t(3396),s=t(9242),r=t(7139);const i=a=>((0,o.dD)("data-v-25627e5c"),a=a(),(0,o.Cn)(),a),n={id:"datosUsuario"},d=i((()=>(0,o._)("label",{for:"NombreUsuario"},"NombreUsuario",-1))),c=i((()=>(0,o._)("label",{for:"apellido"},"Apellido",-1))),l=i((()=>(0,o._)("label",{for:"tel"},"Teléfono",-1))),p=i((()=>(0,o._)("label",{for:"email"},"Email",-1))),u=i((()=>(0,o._)("label",{for:"avatar"},"Avatar",-1))),m=i((()=>(0,o._)("button",{id:"enviar"},"Actualizar Datos",-1))),h={id:"mascotasList"},g={id:"mascotaInfo"};function f(a,e,t,i,f,_){const b=(0,o.up)("CardIdentificacion"),v=(0,o.up)("EditMascota"),w=(0,o.up)("CardMascota");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[(0,o._)("form",{onSubmit:e[5]||(e[5]=(0,s.iM)(((...a)=>_.EditarUsuario&&_.EditarUsuario(...a)),["prevent"]))},[(0,o._)("h2",null,"Bienvenido "+(0,r.zw)(_.datoUsuario.nombre),1),(0,o._)("p",null,(0,r.zw)(f.editUserStatus),1),d,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>f.user.nombre=a),id:"NombreUsuario",name:"nombre"},null,512),[[s.nr,f.user.nombre]]),c,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>f.user.apellido=a),id:"apellido",name:"apellido"},null,512),[[s.nr,f.user.apellido]]),l,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>f.user.telefono=a),id:"tel",name:"tel"},null,512),[[s.nr,f.user.telefono]]),p,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>f.user.email=a),id:"mail",name:"email"},null,512),[[s.nr,f.user.email]]),u,(0,o._)("input",{onChange:e[4]||(e[4]=(...a)=>_.onFileSelected&&_.onFileSelected(...a)),type:"file",accept:"image/png,image/jpeg",id:"imagenup",ref:"avatar",name:"foto"},null,544),m],32),(0,o.Wm)(b,{imagen:f.imagen,Usuario:f.user,class:"hiddenCardOnMovile"},null,8,["imagen","Usuario"])]),(0,o._)("div",h,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.mascotas,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.id},[(0,o._)("div",g,[(0,o.Wm)(v,{onBorrado:_.removeMascota,mascota:a,propiedad:!0},null,8,["onBorrado","mascota"]),(0,o.Wm)(w,{class:"hiddenCardOnMovile",mascota:a},null,8,["mascota"])])])))),128))])],64)}const _=a=>((0,o.dD)("data-v-042f2b09"),a=a(),(0,o.Cn)(),a),b={id:"Card"},v=["src"],w={key:0,class:"cardForm"},y={key:0},U=_((()=>(0,o._)("p",null,"Mascota Caducada, si quiere volver a activarla otros 3 meses pulsa aquí",-1))),k={key:1},M=_((()=>(0,o._)("label",{for:"Nombre"},"Nombre",-1))),C=_((()=>(0,o._)("label",{for:"Raza"},"Raza",-1))),D=_((()=>(0,o._)("label",{for:"tipo"},"Tipo",-1))),P=_((()=>(0,o._)("option",{value:"Perro"},"Perro",-1))),E=_((()=>(0,o._)("option",{value:"Gato"},"Gato",-1))),T=_((()=>(0,o._)("option",{value:"Pajaro"},"Pajaro",-1))),S=_((()=>(0,o._)("option",{value:"Otro"},"Otro",-1))),j=[P,E,T,S],z=_((()=>(0,o._)("label",{for:"contacto"},"Contacto",-1))),$=_((()=>(0,o._)("option",{value:"tel"},"Teléfono",-1))),F=_((()=>(0,o._)("option",{value:"mail"},"E-mail",-1))),R=[$,F],N=_((()=>(0,o._)("label",{for:"Peso"},"Peso",-1))),V=_((()=>(0,o._)("label",{for:"Edad"},"Edad",-1))),I=_((()=>(0,o._)("label",{for:"descripcion"},"Descripción",-1))),L=_((()=>(0,o._)("label",{for:"Ubicacion"},"Ubicacion",-1))),O=_((()=>(0,o._)("label",{for:"fotoMascota"},"Foto Mascota",-1))),A=_((()=>(0,o._)("button",{type:"submit"},"Guardar",-1)));function x(a,e,t,i,n,d){return(0,o.wg)(),(0,o.iD)("div",b,[(0,o._)("img",{class:"hideonPC",style:(0,r.j5)({caducada:n.isCaducada}),id:"foto",src:n.imagen,alt:""},null,12,v),1==t.propiedad?((0,o.wg)(),(0,o.iD)("div",w,[1==this.isCaducada?((0,o.wg)(),(0,o.iD)("div",y,[U,(0,o._)("button",{onClick:e[0]||(e[0]=(...a)=>d.activarMascota&&d.activarMascota(...a))},"Activar Mascota")])):((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("form",{id:"datosmascotaedit",onSubmit:e[10]||(e[10]=(0,s.iM)(((...a)=>d.editarMascota&&d.editarMascota(...a)),["prevent"]))},[M,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>n.datosMascota.Nombre=a),id:"nombre",placeholder:"Nombre"},null,512),[[s.nr,n.datosMascota.Nombre]]),C,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>n.datosMascota.Raza=a),id:"raza",placeholder:"Raza"},null,512),[[s.nr,n.datosMascota.Raza]]),D,(0,o.wy)((0,o._)("select",{name:"tipo",id:"tipo","onUpdate:modelValue":e[3]||(e[3]=a=>n.datosMascota.Tipo=a)},j,512),[[s.bM,n.datosMascota.Tipo]]),z,(0,o.wy)((0,o._)("select",{name:"contacto",id:"contacto","onUpdate:modelValue":e[4]||(e[4]=a=>n.datosMascota.Tipocontacto=a)},R,512),[[s.bM,n.datosMascota.Tipocontacto]]),N,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=a=>n.datosMascota.Peso=a),id:"peso",placeholder:"Peso"},null,512),[[s.nr,n.datosMascota.Peso]]),V,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=a=>n.datosMascota.Edad=a),id:"edad",placeholder:"Edad"},null,512),[[s.nr,n.datosMascota.Edad]]),I,(0,o.wy)((0,o._)("textarea",{name:"descripcion",id:"descripcion",cols:"30",rows:"10","onUpdate:modelValue":e[7]||(e[7]=a=>n.datosMascota.Descripcion=a)},null,512),[[s.nr,n.datosMascota.Descripcion]]),L,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>n.datosMascota.Ubicacion=a),id:"ubicacion",placeholder:"Ubicacion"},null,512),[[s.nr,n.datosMascota.Ubicacion]]),O,(0,o._)("input",{onChange:e[9]||(e[9]=(...a)=>d.onFileMascotaSelected&&d.onFileMascotaSelected(...a)),type:"file",accept:"image/png,image/jpeg",id:"imagenMascota",ref:"fotoMascota",name:"fotoMascota"},null,544),A],32)])),(0,o._)("button",{onClick:e[11]||(e[11]=(...a)=>d.borrarMascota&&d.borrarMascota(...a))},"Borrar"),(0,o._)("p",null,(0,r.zw)(this.status),1)])):(0,o.kq)("",!0)])}var Z={name:"EditMascota",props:{propiedad:{type:Boolean,default:!1},mascota:Object},emits:["borrado"],data(){return{datosMascota:this.mascota,isCaducada:!1,imagen:"",status:""}},mounted(){const a=new Date(this.mascota.FechaExpiracion);a<new Date&&(this.isCaducada=!0),fetch(`https://apirestmascotas.herokuapp.com/mascota/fotoMascota/${this.mascota._id}`,{}).then((a=>a.blob())).then((a=>{const e=URL.createObjectURL(a);this.imagen=e}))},methods:{activarMascota(){fetch(`https://apirestmascotas.herokuapp.com/mascota/aumentarCaducidad/${this.mascota._id}`,{method:"PUT",headers:{Key:this.$store.getters.getTokenSesion}}).then((a=>a.json())).then((a=>{this.status=a.msg,this.isCaducada=!1}))},onFileMascotaSelected(a){this.imagen=URL.createObjectURL(a.target.files[0])},editarMascota(){"tel"===this.Tipocontacto?this.Contacto=this.$store.getters.getUsuario.telefono:this.Contacto=this.$store.getters.getUsuario.email;const a=new FormData,e=this.datosMascota;a.append("datos",JSON.stringify(e)),a.append("foto",this.$refs.fotoMascota.files[0]),fetch(`https://apirestmascotas.herokuapp.com/mascota/updateDatos/${this.mascota._id}`,{method:"PUT",headers:{Key:this.$store.getters.getTokenSesion},body:a}).then((a=>{200===a.status?this.status="Datos actualizados":this.status=a.msg}))},borrarMascota(){confirm("¿Estas seguro de borrar la mascota?")&&fetch(`https://apirestmascotas.herokuapp.com/mascota/mascota/${this.mascota._id}`,{headers:{Key:this.$store.getters.getTokenSesion},method:"DELETE"}).then((a=>{200===a.status?this.$emit("borrado",this.mascota._id):console.log(a.msg)}))}}},q=t(89);const K=(0,q.Z)(Z,[["render",x],["__scopeId","data-v-042f2b09"]]);var Y=K,H=t(5773),G=t(582),W={name:"PerfilUsuario",components:{EditMascota:Y,CardIdentificacion:H.Z,CardMascota:G.Z},data(){return{user:this.$store.getters.getUsuario,mascotas:[],imagen:this.$store.getters.getAvatar,status:"",editUserStatus:""}},methods:{EditarUsuario(){const a=new FormData;a.append("datos",JSON.stringify(this.user)),a.append("avatar",this.$refs.avatar.files[0]),fetch("https://apirestmascotas.herokuapp.com/usuario/updateDatos/",{method:"PUT",headers:{Key:this.$store.getters.getTokenSesion},body:a}).then((a=>(200===a.status&&(this.$store.dispatch("getUserInfo"),this.$store.dispatch("setAvatarImage")),a.json()))).then((a=>{this.editUserStatus=a.msg}))},removeMascota(a){const e=this.mascotas.findIndex((e=>e.id===a));this.mascotas.splice(e,1)},onFileSelected(a){this.imagen=URL.createObjectURL(a.target.files[0])}},computed:{datoUsuario(){return this.$store.getters.getUsuario}},created(){this.$store.getters.getAvatar||fetch("https://apirestmascotas.herokuapp.com/usuario/getAvatar/",{method:"GET",headers:{Key:this.$store.getters.getTokenSesion,Accept:"application/json","Content-Type":"application/json"}}).then((a=>a.blob())).then((a=>{const e=URL.createObjectURL(a);this.imagen=e})),fetch("https://apirestmascotas.herokuapp.com/usuario/getUsuario",{method:"GET",headers:{Key:this.$store.getters.getTokenSesion,Accept:"application/json","Content-Type":"application/json"}}).then((a=>a.json())).then((a=>{this.user=a})),fetch("https://apirestmascotas.herokuapp.com/mascota/getFromUser",{method:"GET",headers:{Key:this.$store.getters.getTokenSesion,Accept:"application/json","Content-Type":"application/json"}}).then((a=>a.json())).then((a=>{this.mascotas=a}))}};const J=(0,q.Z)(W,[["render",f],["__scopeId","data-v-25627e5c"]]);var B=J},3480:function(a,e,t){t.r(e),t.d(e,{default:function(){return T}});var o=t(3396),s=t(9242),r=t(7139),i=t(3715),n=t(6592);const d=a=>((0,o.dD)("data-v-25780d96"),a=a(),(0,o.Cn)(),a),c={id:"register"},l={class:"Formulario"},p=d((()=>(0,o._)("h2",null,"Registra tus datos",-1))),u=d((()=>(0,o._)("label",{for:"NombreUsuario"},"Nombre",-1))),m=d((()=>(0,o._)("label",{for:"apellido"},"Apellidos",-1))),h=d((()=>(0,o._)("label",{for:"tel"},"Teléfono",-1))),g=d((()=>(0,o._)("label",{for:"email"},"Email",-1))),f={for:"password"},_=(0,o.Uk)("Contraseña "),b=["type"],v=d((()=>(0,o._)("label",{for:"password"},"Repite la Contraseña",-1))),w=["type"],y=d((()=>(0,o._)("label",{for:"avatar"},"Avatar",-1))),U=d((()=>(0,o._)("button",{id:"enviar"},"Registrarte",-1))),k={id:"sectionidenti"};function M(a,e,t,d,M,C){const D=(0,o.up)("CardIdentificacion");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("section",l,[(0,o._)("form",{onSubmit:e[15]||(e[15]=(0,s.iM)(((...a)=>C.registrarUsuario&&C.registrarUsuario(...a)),["prevent"]))},[p,(0,o._)("span",null,(0,r.zw)(this.errores.server),1),u,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>M.user.nombre=a),onChange:e[1]||(e[1]=(...a)=>C.verificarNombre&&C.verificarNombre(...a)),id:"NombreUsuario"},null,544),[[s.nr,M.user.nombre]]),(0,o._)("span",null,(0,r.zw)(M.errores.nombre),1),m,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>M.user.apellido=a),onChange:e[3]||(e[3]=(...a)=>C.verificarApellido&&C.verificarApellido(...a)),id:"apellido",name:"apellido"},null,544),[[s.nr,M.user.apellido]]),(0,o._)("span",null,(0,r.zw)(M.errores.apellido),1),h,(0,o.wy)((0,o._)("input",{type:"tel","onUpdate:modelValue":e[4]||(e[4]=a=>M.user.telefono=a),onChange:e[5]||(e[5]=(...a)=>C.verificarTelefono&&C.verificarTelefono(...a)),id:"tel",name:"tel"},null,544),[[s.nr,M.user.telefono]]),(0,o._)("span",null,(0,r.zw)(M.errores.telefono),1),g,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>M.user.email=a),onChange:e[7]||(e[7]=(...a)=>C.verificarEmail&&C.verificarEmail(...a)),id:"mail",name:"registeremail"},null,544),[[s.nr,M.user.email]]),(0,o._)("span",null,(0,r.zw)(M.errores.email),1),(0,o._)("label",f,[_,"password"!=M.passwordField?((0,o.wg)(),(0,o.iD)("img",{key:0,id:"mostrar",src:i,onClick:e[8]||(e[8]=(...a)=>C.mostrarPass&&C.mostrarPass(...a)),alt:"mostrarPass"})):((0,o.wg)(),(0,o.iD)("img",{key:1,id:"mostrar",src:n,onClick:e[9]||(e[9]=(...a)=>C.mostrarPass&&C.mostrarPass(...a)),alt:"mostrarPass"}))]),(0,o.wy)((0,o._)("input",{type:M.passwordField,"onUpdate:modelValue":e[10]||(e[10]=a=>M.user.password=a),onChange:e[11]||(e[11]=(...a)=>C.verificarPass&&C.verificarPass(...a)),name:"registerpassword"},null,40,b),[[s.YZ,M.user.password]]),v,(0,o.wy)((0,o._)("input",{type:M.passwordField,"onUpdate:modelValue":e[12]||(e[12]=a=>M.password2=a),onChange:e[13]||(e[13]=(...a)=>C.verificarPass&&C.verificarPass(...a)),name:"registerpassword2"},null,40,w),[[s.YZ,M.password2]]),(0,o._)("span",null,(0,r.zw)(this.errores.passregex),1),(0,o._)("span",null,(0,r.zw)(M.errores.password),1),y,(0,o._)("input",{onChange:e[14]||(e[14]=(...a)=>C.onFileSelected&&C.onFileSelected(...a)),type:"file",accept:"image/png,image/jpeg",id:"imagenup",ref:"foto",name:"foto"},null,544),(0,o._)("span",null,(0,r.zw)(M.errores.imagen),1),U],32)]),(0,o._)("section",k,[(0,o.Wm)(D,{class:"hiddenCardOnMovile",imagen:M.imagen,Usuario:M.user},null,8,["imagen","Usuario"])])])}var C=t(5773),D={components:{CardIdentificacion:C.Z},data(){return{passwordField:"password",password2:"",errores:{passregex:"",nombre:"",apellido:"",telefono:"",email:"",password:"",server:""},imagen:"",user:{nombre:"",apellido:"",telefono:"",email:"",password:""}}},mounted(){document.title="Register"},methods:{mostrarPass(){this.passwordField="password"===this.passwordField?"text":"password"},verificarNombre(a){a.target.classList.remove("inputFail"),this.errores.nombre="",this.user.nombre.length<3&&(a.target.classList.add("inputFail"),this.errores.nombre="El nombre debe tener al menos 3 caracteres"),this.user.nombre.length>40&&(a.target.classList.add("inputFail"),this.errores.nombre="Nombre demasiado largo")},verificarApellido(a){a.target.classList.remove("inputFail"),this.errores.apellido="",this.user.apellido.length<5&&(this.errores.apellido="Apellido vacío o muy corto"),this.user.apellido.length>40&&(this.errores.apellido="Apellido demasiado largo")},verificarTelefono(a){a.target.classList.remove("inputFail"),this.errores.telefono="";const e=/^[0-9]{9}$/;e.test(this.user.telefono)||(this.errores.telefono="El teléfono no es válido")},verificarPass(a){a.target.classList.remove("inputFail"),this.errores.password="",this.errores.passregex="";const e=/^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$/;e.test(this.user.password)||(this.errores.password="La contraseña no es segura",this.errores.passregex="La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un caracter especial"),this.user.password!==this.password2&&(this.errores.password="Las contraseñas no coinciden")},verificarEmail(a){a.target.classList.remove("inputFail"),this.errores.email="";const e=/^([\da-z_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;e.test(this.user.email.toLowerCase())||(this.errores.email="Email no válido"),this.user.email>40&&(this.errores.email="Email no válido")},onFileSelected(a){this.imagen=URL.createObjectURL(a.target.files[0])},iniciarSesion(){const a={email:this.user.email,password:this.user.password};fetch("https://apirestmascotas.herokuapp.com/usuario/iniciarsesion",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((a=>a.json())).then((a=>{a.token?(this.$store.dispatch("setTokenSesion",a.token),this.$store.dispatch("setAvatarImage"),this.$router.push("/")):this.errores.server=a.msg}))},registrarUsuario(){const a=this.user,e=new FormData;e.append("datos",JSON.stringify(a)),e.append("avatar",this.$refs.foto.files[0]),fetch("https://apirestmascotas.herokuapp.com/usuario/registrarse",{method:"POST",body:e}).then((a=>{if(200!==a.status)return a.json().then((a=>{this.errores.server=a.msg.server,this.errores.email=a.msg.email,this.errores.password=a.msg.password,this.errores.nombre=a.msg.nombre,this.errores.apellido=a.msg.apellido}));this.$router.push("/iniciarsesion")}))}}},P=t(89);const E=(0,P.Z)(D,[["render",M],["__scopeId","data-v-25780d96"]]);var T=E},3715:function(a,e,t){a.exports=t.p+"img/ojo.506d7a37.svg"},6592:function(a,e,t){a.exports=t.p+"img/ojocerrado.83413395.svg"}}]);
//# sourceMappingURL=about.8ac2f844.js.map